### Build genome index with genome fasta files and GTF annotation ###

STAR \
--runThreadN 16 \
--runMode genomeGenerate \
--genomeDir /home/rtlab/Documents/genome/genome_indices/Rnor_6.0 \
--genomeFastaFiles /home/rtlab/Documents/genome/genomes/Rnor_6.0/GCF_000001895.5_Rnor_6.0_genomic.fa \
--sjdbGTFfile /home/rtlab/Documents/genome/indexes/Rnor_6.0/GCF_000001895.5_Rnor_6.0_genomic.gtf \
--sjdbOverhang 149

# Print path to all files in current working directory
ls -d -1 "$PWD"/* > listOfFiles.list

### Align reads to genome with genome index and quantify with STAR quantMode geneCounts ###

STAR \
--runThreadN 16 \
--genomeDir /home/rtlab/Documents/genome_indices/Rnor_6.0 \
--readFilesIn /home/rtlab/Documents/other_fastq/brenda_rawdata/CP_6_1.fq.gz /home/rtlab/Documents/other_fastq/brenda_rawdata/CP_6_2.fq.gz \
--readFilesCommand zcat \
--quantMode GeneCounts \
--outFileNamePrefix /home/rtlab/Documents/other_fastq/brenda_rawdata/STAR_outputs/CP_6_ \
--outSAMtype BAM SortedByCoordinate \
--outSAMunmapped Within \
--outSAMattributes NH HI NM MD AS
